<!DOCTYPE html>
<html>
<head>
    <title>ChatGPT 网站示例</title>
    <script src="https://cdn.jsdelivr.net/npm/@openai/chatgpt@0.8.2/dist/index.js"></script>
</head>
<body>
    <div id="chat-container">
        <div id="chat-log"></div>
        <input type="text" id="user-input" placeholder="在这里输入您的消息..." />
        <button id="send-btn">发送</button>
    </div>

    <script>
        const chatLog = document.querySelector('#chat-log');
        const userInput = document.querySelector('#user-input');
        const sendButton = document.querySelector('#send-btn');

        // 创建 ChatGPT 实例
        const chatgpt = new ChatGPT({
            model: 'gpt-3.5-turbo',
            token: '您在 OpenAI 上创建的访问令牌', // 替换为您的访问令牌
            maxTokens: 100,
        });

        sendButton.addEventListener('click', async () => {
            await sendMessage();
        });

        userInput.addEventListener('keydown', async (event) => {
            if (event.key === 'Enter') {
                await sendMessage();
            }
        });

        async function sendMessage() {
            const userMessage = userInput.value;
            appendMessage(userMessage, 'user');
            userInput.value = '';

            const chatResult = await chatgpt.send(userMessage);
            const botMessage = chatResult.choices[0].message.content;
            appendMessage(botMessage, 'bot');
        }

        function appendMessage(message, sender) {
            const messageContainer = document.createElement('div');
            messageContainer.classList.add('message', sender);
            messageContainer.textContent = message;
            chatLog.appendChild(messageContainer);
        }
    </script>

    <style>
        #chat-container {
            width: 400px;
            margin: auto;
            text-align: center;
        }

        .message {
            margin: 10px;
            padding: 10px;
            border-radius: 5px;
        }

        .user {
            background-color: #e0e0e0;
        }

        .bot {
            background-color: #f2f2f2;
        }
    </style>
</body>
</html>
 
